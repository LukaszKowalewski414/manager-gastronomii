{% extends 'base.html' %}

{% block content %}
<div class="container my-5">
    <h2 class="text-center mb-4 text-primary">Dodaj rozliczenie dzienne</h2>

    <form method="POST" action="{{ url_for('add_daily') }}">
        <div class="mb-3">
            <label for="data" class="form-label">Data</label>
            <input type="date" id="data" name="data" class="form-control" required>
        </div>

        <h5>Przychody</h5>
        {% for field in ['bar', 'kuchnia', 'wejsciowki', 'inne'] %}
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="sprzedaz_{{ field }}" id="sprzedaz_{{ field }}"
                {% if field in config['domyslne_przychody'] %}checked{% endif %}>
                <label class="form-check-label" for="sprzedaz_{{ field }}">
                    Sprzedaż {{ field }}
                </label>
                <input type="number" step="0.01" class="form-control" name="sprzedaz_{{ field }}_kwota" placeholder="Kwota">
            </div>
        {% endfor %}

        <hr>
        <h5>Koszty</h5>
        {% for field in ['bar', 'kelnerzy', 'kuchnia', 'ochrona'] %}
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="koszt_{{ field }}" id="koszt_{{ field }}"
                {% if field in config['domyslne_koszty'] %}checked{% endif %}>
                <label class="form-check-label" for="koszt_{{ field }}">
                    Koszt {{ field }}
                </label>
                <input type="number" step="0.01" class="form-control" name="koszt_{{ field }}_kwota" placeholder="Kwota">
            </div>
        {% endfor %}

        <div class="form-check mt-3">
            <input class="form-check-input" type="checkbox" name="koszt_marketing" id="koszt_marketing"
            {% if 'marketing' in config['domyslne_koszty'] %}checked{% endif %}>
            <label class="form-check-label" for="koszt_marketing">Marketing</label>
            <input type="text" class="form-control mt-1" name="koszt_marketing_komentarz" placeholder="Komentarz">
            <input type="number" step="0.01" class="form-control mt-1" name="koszt_marketing_kwota" placeholder="Kwota">
        </div>

        <div class="form-check mt-3">
            <input class="form-check-input" type="checkbox" name="koszt_inne" id="koszt_inne"
            {% if 'inne' in config['domyslne_koszty'] %}checked{% endif %}>
            <label class="form-check-label" for="koszt_inne">Inne</label>
            <input type="text" class="form-control mt-1" name="koszt_inne_komentarz" placeholder="Komentarz">
            <input type="number" step="0.01" class="form-control mt-1" name="koszt_inne_kwota" placeholder="Kwota">
        </div>

        <div class="text-center mt-4">
            <button type="submit" class="btn btn-success btn-lg px-5 mb-3" name="action" value="save_daily">
                Zapisz rozliczenie dnia
            </button>
            <button type="submit" class="btn btn-outline-secondary btn-sm" name="action" value="save_defaults">
                ⚙️ Zapisz obecne ustawienia jako domyślne
            </button>
        </div>
    </form>
</div>
{% endblock %}
